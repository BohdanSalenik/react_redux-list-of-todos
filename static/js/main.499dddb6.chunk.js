(this["webpackJsonpreact_dynamic-list-of-todos"]=this["webpackJsonpreact_dynamic-list-of-todos"]||[]).push([[0],{13:function(t,e,n){t.exports=n(26)},25:function(t,e,n){},26:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),o=n(6),c=n.n(o),u=n(2),l=n(3),s=n(4),i=n(7),d="LOAD_FROM_API",m="SORT_BY_NAME",f="SORT_BY_TITLE",p="SORT_BY_COMPLETE",b="DELETE_TASK",E="SORT",O="IS_LOADING",y={todos:[],field:m,isLoading:!1},h=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),_=Object(i.b)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case d:return Object(s.a)({},t,{todos:e.payload.todos});case E:return Object(s.a)({},t,{field:e.payload.sort});case O:return Object(s.a)({},t,{isLoading:e.payload.isLoading});case b:return Object(s.a)({},t,{todos:Object(l.a)(t.todos).filter((function(t){return t.id!==e.payload.id}))});default:return t}}),h),v=n(1),j=n.n(v),T=n(5),L="https://jsonplaceholder.typicode.com/",N=function(){var t=Object(T.a)(j.a.mark((function t(e){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return n=t.sent,t.abrupt("return",n.json());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=Object(T.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",N("".concat(L).concat("todos")));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=function(){var t=Object(T.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",N("".concat(L).concat("users")));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),k=Object(u.b)(null,(function(t){return{deleteTask:function(e){return t(function(t){return{type:b,payload:{id:t}}}(e))}}}))((function(t){var e=t.todo,n=t.deleteTask;return a.a.createElement("tr",{className:"table-info"},a.a.createElement("td",null,e.title),a.a.createElement("td",null,e.completed?"OK":"KO"),a.a.createElement("td",null,e.user&&a.a.createElement("p",null,e.user.name)),a.a.createElement("td",null,a.a.createElement("button",{type:"button",onClick:function(){return n(e.id)}},"\ud83d\uddd1")))})),S=Object(u.b)(null,(function(t){return{setSortField:function(e){return t({type:E,payload:{sort:e}})}}}))((function(t){var e=t.todos,n=t.setSortField;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement("button",{className:"btn btn-info button-margin",type:"button",onClick:function(){return n(f)}},"sort by title"),a.a.createElement("button",{className:"btn btn-info button-margin",type:"button",onClick:function(){return n(p)}},"show completed"),a.a.createElement("button",{className:"btn btn-info",type:"button",onClick:function(){return n(m)}},"by user name")),a.a.createElement("table",{className:"table-bordered table-center"},a.a.createElement("thead",null,a.a.createElement("tr",{className:"bg-danger"},a.a.createElement("th",null,"Todo"),a.a.createElement("th",null,"Status"),a.a.createElement("th",null,"UserName"),a.a.createElement("th",null,"DELETE"))),a.a.createElement("tbody",null,e.map((function(t){return a.a.createElement(k,{key:t.id,todo:t})})))))})),x=(n(25),function(t){var e=t.todos;switch(t.field){case m:return Object(l.a)(e).sort((function(t,e){return t.user.name.localeCompare(e.user.name)}));case f:return Object(l.a)(e).sort((function(t,e){return t.title.localeCompare(e.title)}));case p:return Object(l.a)(e).sort((function(t,e){return Number(e.completed)-Number(t.completed)}));default:return e}}),C=Object(u.b)((function(t){return{todos:x(t),isLoad:t.isLoading}}),(function(t){return{setTodos:function(e){return t(function(t){return{type:d,payload:{todos:t}}}(e))},isLoading:function(e){return t(function(t){return{type:O,payload:{value:t}}}(e))}}}))((function(t){var e=t.todos,n=t.setTodos,r=t.isLoading,o=t.isLoad,c=function(){var t=Object(T.a)(j.a.mark((function t(){var e,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(!0),t.next=3,g();case 3:return e=t.sent,t.next=6,w();case 6:a=t.sent,n(e.map((function(t){return Object(s.a)({},t,{user:a.find((function(e){return e.id===t.userId}))})}))),r(!1);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return o?a.a.createElement("p",{className:"loading"},"Loading..."):a.a.createElement("div",{className:"main"},a.a.createElement("div",null,e.length?a.a.createElement(S,{todos:Object(l.a)(e)}):a.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:c},"Load All")))})),D=a.a.createElement(u.a,{store:_},a.a.createElement(C,null));c.a.render(D,document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.499dddb6.chunk.js.map