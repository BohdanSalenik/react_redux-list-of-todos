{"version":3,"sources":["actions/actionCreator.ts","redux/rootReducer.ts","constants/constants.ts","api/getData/getData.ts","components/Todo.tsx","components/TodoList.tsx","utils/SortBy.ts","App.tsx","index.tsx"],"names":["Type","initialState","todos","field","devTool","window","__REDUX_DEVTOOLS_EXTENSION__","store","createStore","state","action","type","payload","sort","filter","todo","id","BASE_URL","getData","url","a","fetch","response","json","getTodos","getUsers","connect","dispatch","deleteTask","delTask","className","title","completed","user","name","onClick","setSortField","map","item","key","getSortedTodos","b","localeCompare","Number","setTodos","setTodosData","useState","isLoading","setIsLoading","prepearedTodos","loadTodos","todosFromApi","usersFromApi","find","person","userId","length","app","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.998d212e.chunk.js","sourcesContent":["export const Type = {\n  LOAD_FROM_API: 'LOAD_FROM_API',\n  SORT_BY_NAME: 'SORT_BY_NAME',\n  SORT_BY_TITLE: 'SORT_BY_TITLE',\n  SORT_BY_COMPLETE: 'SORT_BY_COMPLETE',\n  DELETE_TASK: 'DELETE_TASK',\n};\n\nexport const setTodos = (todos: PreparedTodo[]) => (\n  { type: Type.LOAD_FROM_API, payload: { todos } });\nexport const setSortField = (sort: string) => ({ type: 'sort', payload: { sort } });\nexport const deleteTask = (id: number) => ({ type: Type.DELETE_TASK, payload: { id } });\n","import { Action, Reducer, createStore } from 'redux';\nimport { Type } from '../actions/actionCreator';\n\nexport interface InitialState {\n  todos: PreparedTodo[] | [];\n  field: string;\n}\n\ninterface Payload {\n  todos: PreparedTodo[];\n  id: number;\n  sort: string;\n}\ninterface DispatchActions extends Action {\n  payload: Payload;\n}\n\nconst initialState: InitialState = {\n  todos: [],\n  field: Type.SORT_BY_NAME,\n};\n\nconst rootReducer: Reducer<InitialState, DispatchActions> = (state = initialState, action) => {\n  switch (action.type) {\n    case Type.LOAD_FROM_API:\n      return {\n        ...state,\n        todos: action.payload.todos,\n      };\n    case 'sort':\n      return {\n        ...state,\n        field: action.payload.sort,\n      };\n    case Type.DELETE_TASK:\n      return {\n        ...state,\n        todos: [...state.todos].filter(todo => todo.id !== action.payload.id),\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst devTool = (window as any).__REDUX_DEVTOOLS_EXTENSION__\n    && (window as any).__REDUX_DEVTOOLS_EXTENSION__();\n\nexport const store = createStore(rootReducer, devTool);\n","export const BASE_URL = 'https://jsonplaceholder.typicode.com/';\n","import { BASE_URL } from '../../constants/constants';\n\nconst todos = 'todos';\nconst users = 'users';\n\nconst getData = async <T>(url: string): Promise<T> => {\n  const response = await fetch(url);\n\n  return response.json();\n};\n\nexport const getTodos = async () => {\n  return getData<Todo[]>(`${BASE_URL}${todos}`);\n};\n\nexport const getUsers = async () => {\n  return getData<User[]>(`${BASE_URL}${users}`);\n};\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Dispatch } from 'redux';\nimport { deleteTask as delTask } from '../actions/actionCreator';\n\ninterface Props {\n  todo: PreparedTodo;\n  deleteTask: (id: number) => void;\n}\n\nconst Todo: React.FC<Props> = ({ todo, deleteTask }) => {\n  return (\n    <tr className=\"table-info\">\n      <td>{todo.title}</td>\n      <td>{todo.completed ? 'OK' : 'KO'}</td>\n      <td>\n        {todo.user && (<p>{todo.user.name}</p>)}\n      </td>\n      <td>\n        <button\n          type=\"button\"\n          onClick={() => deleteTask(todo.id)}\n        >\n          ðŸ—‘\n        </button>\n      </td>\n    </tr>\n  );\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  deleteTask: (id: number) => dispatch(delTask(id)),\n});\n\nexport default connect(null, mapDispatchToProps)(Todo);\n","import React, { FC } from 'react';\nimport { connect } from 'react-redux';\nimport { Dispatch } from 'redux';\nimport Todo from './Todo';\nimport { setSortField as setSort, Type } from '../actions/actionCreator';\n\n\ninterface Props {\n  todos: PreparedTodo[];\n  setSortField: (field: string) => void;\n}\n\n\nconst TodoList: FC<Props> = ({\n  todos,\n  setSortField,\n}) => {\n  return (\n    <>\n      <div>\n        <button\n          className=\"btn btn-info button-margin\"\n          type=\"button\"\n          onClick={() => setSortField(Type.SORT_BY_TITLE)}\n        >\n          sort by title\n        </button>\n        <button\n          className=\"btn btn-info button-margin\"\n          type=\"button\"\n          onClick={() => setSortField(Type.SORT_BY_COMPLETE)}\n        >\n          show completed\n        </button>\n        <button\n          className=\"btn btn-info\"\n          type=\"button\"\n          onClick={() => setSortField(Type.SORT_BY_NAME)}\n        >\n          by user name\n        </button>\n      </div>\n      <table className=\"table-bordered table-center\">\n        <thead>\n          <tr className=\"bg-danger\">\n            <th>Todo</th>\n            <th>Status</th>\n            <th>UserName</th>\n            <th>DELETE</th>\n          </tr>\n        </thead>\n        <tbody>\n          {todos.map(item => <Todo key={item.id} todo={item} />)}\n        </tbody>\n      </table>\n    </>\n  );\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  setSortField: (field: string) => dispatch(setSort(field)),\n});\n\nexport default connect(null, mapDispatchToProps)(TodoList);\n","import { Type } from '../actions/actionCreator';\nimport { InitialState } from '../redux/rootReducer';\n\nexport const getSortedTodos = (state: InitialState): PreparedTodo[] => {\n  const { todos, field } = state;\n\n  switch (field) {\n    case Type.SORT_BY_NAME:\n      return [...todos].sort((a, b) => a.user.name.localeCompare(b.user.name));\n\n    case Type.SORT_BY_TITLE:\n      return [...todos].sort((a, b) => a.title.localeCompare(b.title));\n\n    case Type.SORT_BY_COMPLETE:\n      return [...todos].sort((a, b) => Number(b.completed) - Number(a.completed));\n    default:\n      return todos;\n  }\n};\n","import React, { FC, useState } from 'react';\nimport { Dispatch } from 'redux';\nimport { connect } from 'react-redux';\nimport { getTodos, getUsers } from './api/getData/getData';\nimport TodoList from './components/TodoList';\nimport { InitialState } from './redux/rootReducer';\nimport './App.css';\nimport { setTodos as setTodosData } from './actions/actionCreator';\nimport { getSortedTodos } from './utils/SortBy';\n\n\ninterface Props {\n  todos: PreparedTodo[];\n  setTodos: (todos: PreparedTodo[]) => {};\n}\n\nconst App: FC<Props> = ({ todos, setTodos }) => {\n  const [isLoading, setIsLoading] = useState(false);\n  const prepearedTodos = [...todos];\n\n  const loadTodos = async () => {\n    setIsLoading(true);\n    const todosFromApi = await getTodos();\n    const usersFromApi = await getUsers();\n\n    setTodos(todosFromApi.map(todo => ({\n      ...todo,\n      user: usersFromApi.find(person => person.id === todo.userId) as User,\n    })));\n    setIsLoading(false);\n  };\n\n  if (isLoading) {\n    return <p className=\"loading\">Loading...</p>;\n  }\n\n  return (\n    <div className=\"main\">\n      <div>\n        {!todos.length\n          ? (\n            <button\n              className=\"btn btn-primary\"\n              type=\"button\"\n              onClick={loadTodos}\n            >\n              Load All\n            </button>\n          )\n          : (\n            <TodoList\n              todos={prepearedTodos}\n            />\n          )}\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state: InitialState) => {\n  return {\n    todos: getSortedTodos(state),\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  setTodos: (todos: PreparedTodo[]) => dispatch(setTodosData(todos)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { store } from './redux/rootReducer';\nimport App from './App';\n\nconst app = (\n  <Provider store={store}>\n    <App />\n  </Provider>\n);\n\nReactDOM.render(\n  app,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}